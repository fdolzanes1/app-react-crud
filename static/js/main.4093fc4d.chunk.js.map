{"version":3,"sources":["components/Header/index.js","components/Contact/index.js","components/Footer/index.js","App.js","index.js"],"names":["Header","title","FormContact","state","model","nome","email","telefone","setValues","e","field","target","value","setState","create","props","contactCreate","PubSub","subscribe","topic","contact","Form","FormGroup","Label","for","Input","id","this","type","placeholder","onChange","Button","onClick","color","Component","ListContact","delete","_id","deleteContact","onEdit","publish","contacts","Table","className","responsive","map","key","size","ContactBox","url","message","text","alert","save","data","requestInfo","method","body","JSON","stringify","headers","Headers","fetch","then","response","json","newContact","push","timerMessage","catch","console","log","updatedContact","findIndex","rows","filter","duration","setTimeout","docs","Alert","Footer","href","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4093fc4d.chunk.js","sourcesContent":["import React from 'react';\r\nimport './styles.css';\r\n\r\nconst Header = ({  title }) => (\r\n  <header>\r\n    <h1>{ title?title:\"Escolha um titulo\"}</h1>\r\n  </header>\r\n);\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport PubSub from 'pubsub-js';\r\nimport { Table, Button, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\r\nimport './styles.css';\r\n\r\nclass FormContact extends Component {\r\n\r\n  state = { \r\n    model: {\r\n      nome: '', \r\n      email: '', \r\n      telefone: '' \r\n    } \r\n  };\r\n\r\n  setValues = (e, field) => {\r\n    const { model } = this.state;\r\n    model[field] = e.target.value;\r\n    this.setState({ model });\r\n  }\r\n\r\n  create  = () => {\r\n    this.setState({ model:{ nome: '', email: '', telefone: '' }  });\r\n    this.props.contactCreate(this.state.model);\r\n  }\r\n\r\n  componentWillMount() {\r\n    PubSub.subscribe('edit-contact', (topic, contact) => {\r\n      this.setState({ model: contact });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form >\r\n        <FormGroup>\r\n          <Label for=\"nome\">Nome</Label>\r\n          <Input id=\"nome\" value={this.state.model.nome} type=\"text\" placeholder=\"Digite o seu Nome\" onChange={ e => this.setValues(e, 'nome')} ></Input>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"email\">Email</Label>\r\n          <Input id=\"email\" value={this.state.model.email} type=\"text\" placeholder=\"Digite o seu Email\" onChange={ e => this.setValues(e, 'email')} ></Input>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"telefone\">Telefone</Label>\r\n          <Input id=\"telefone\" value={this.state.model.telefone} type=\"text\" placeholder=\"Digite o seu Telefone\" onChange={ e => this.setValues(e, 'telefone')} ></Input>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Button onClick={this.create} color=\"primary\">Salvar Contato</Button>\r\n        </FormGroup>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nclass ListContact extends Component {\r\n  \r\n  delete = (_id) => {\r\n    this.props.deleteContact(_id);\r\n  }\r\n\r\n  onEdit = ( contact ) => {\r\n    PubSub.publish('edit-contact', contact);\r\n  }\r\n  \r\n  render() {\r\n    const { contacts } = this.props;\r\n    return (\r\n      <Table className=\"table-responsive text-center\" responsive>\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th>Nome</th>\r\n            <th>Email</th>\r\n            <th>Telefone</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            contacts.map(contact => (\r\n              <tr key={contact._id} >\r\n                <td>{contact.nome}</td>\r\n                <td>{contact.email}</td>\r\n                <td>{contact.telefone}</td>\r\n                <td><Button color=\"info\" size=\"sm\" onClick={ e => this.onEdit( contact ) }>Editar</Button>\r\n                  <Button color=\"danger\" size=\"sm\" onClick={ e => this.delete( contact._id )}>Excluir</Button>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          }\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default class ContactBox extends Component {\r\n\r\n  url = \"https://nameless-badlands-32634.herokuapp.com/api/contacts\";\r\n\r\n  state = {\r\n    contacts: [],\r\n      message: {\r\n        text: '',\r\n        alert: ''\r\n      }\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(this.url)\r\n      .then(response => response.json())\r\n      .then(response => this.setState({ contacts: response.docs }))\r\n      .catch(e => console.log(e));\r\n  }\r\n\r\n  save = (contact) => {\r\n    let data = {\r\n      _id: contact._id,\r\n      nome: contact.nome, \r\n      email: contact.email, \r\n      telefone: contact.telefone\r\n    }; \r\n\r\n    const requestInfo = {\r\n      method: data._id != null ? 'PUT':'POST',\r\n      body: JSON.stringify(data), \r\n      headers: new Headers({\r\n        'Content-type': 'application/json'\r\n      })\r\n\r\n    };\r\n    \r\n    if ( data._id == null) {\r\n      fetch(this.url, requestInfo)\r\n      .then(response => response.json())\r\n      .then(newContact => {\r\n        let { contacts } = this.state; \r\n        contacts.push(newContact); \r\n        this.setState({ contacts, message: { text: \"Novo Contado Adicionado\", alert: 'success' } });\r\n        this.timerMessage(3000);\r\n      })\r\n      .catch( e => console.log(e) );\r\n    } else {\r\n      fetch(`${ this.url }/${ data._id }`, requestInfo)\r\n        .then(response => response.json())\r\n        .then(updatedContact => {\r\n          let { contacts } = this.state;\r\n          \r\n          let position = this.state.contacts.findIndex(contact => contact._id === data._id);\r\n          contacts[position] = updatedContact;\r\n          this.setState({ contacts, message: { text: \"Contato Atualizado\", alert: 'info' } });\r\n          this.timerMessage(3000);\r\n        })\r\n        .catch( e => console.log(e) );\r\n    }\r\n    \r\n  }\r\n\r\n  delete = (_id) => {\r\n    fetch(`${ this.url }/${ _id }`, { method: 'DELETE' })\r\n      .then(response => response.json())\r\n      .then(rows => {\r\n        const contacts = this.state.contacts.filter(contact => contact._id !== _id);\r\n        this.setState({ contacts,  message: { text: 'Contato Deletado', alert: 'danger' } });\r\n        this.timerMessage(3000);\r\n      })\r\n      .catch(e => console.log(e));\r\n  };\r\n\r\n  timerMessage = (duration) => {\r\n    setTimeout(() => {\r\n      this.setState({ message: { text: '', alert: ''} });\r\n    }, duration);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"contact-box\">\r\n        {\r\n          this.state.message.text !== ''? (\r\n              <Alert color={this.state.message.alert} className=\"text-center\"> {this.state.message.text} </Alert>\r\n          ) : ''\r\n        }\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <h2>Cadastro de Contato</h2>\r\n            <FormContact contactCreate={this.save}/>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <h2>Listar de Contato</h2>\r\n            <ListContact contacts={this.state.contacts} deleteContact={ this.delete } />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"page-footer fixed-bottom font-small navbar-dark bg-dark\">\r\n        <div className=\"footer-copyright text-center py-3\">Â© 2020 Copyright:\r\n          <a href=\"https://fdolzanes1.github.com/\"> Fabiano Dolzanes</a>\r\n        </div>\r\n      </footer>\r\n  );\r\n  }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\nimport Header from './components/Header';\nimport ContactBox from './components/Contact';\nimport Footer from './components/Footer';\n\nclass App extends Component {\n  render () {\n    return (\n      <div className=\"container\">\n        <Header title=\"Contact App\"/>\n        <ContactBox/>\n        <Footer/>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}